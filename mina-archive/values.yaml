archive:
  testnet:
  replicas: 1
  image:
  runtimeConfig:
  # `remoteSchemaFile` needs to be just the script name, not a url.  `remoteSchemaAuxFiles` needs to be a list of urls of sqls, one of these urls needs to be the url of the main sql script that invokes the other ones.
  remoteSchemaFile: "create_schema.sql"
  remoteSchemaAuxFiles: []
  postgresHost:  '{{ .Release.Name }}-postgresql'
  postgresUri: postgres://{{ .Values.postgresql.auth.username }}:{{ .Values.postgresql.auth.password }}@{{ tpl .Values.archive.postgresHost . }}:{{ .Values.archive.ports.postgres }}/{{ .Values.postgresql.auth.database }}
  ports:
    server: 3086
    postgres: 5432
    metrics: 10002
  enablePostgresDB: true
  enableDumpCronjob: false
  initFromDump: false

postgresql:
  primary:
    name: "archive"
    persistence:
      enabled: false
      size: 8Gi
      storageClass: release-name-postgresql-pv
    initdb:
      user: "mina"
      password: "zo3moong7moog4Iep7eNgo3iecaesahH"
  auth:
    username: "mina"
    password: "zo3moong7moog4Iep7eNgo3iecaesahH"
    database: "archive"
    enablePostgresUser: false

nodeSelector:
  preemptible: true
